#! /bin/sh -e

# Debconf script for trn3; gets installed as DEBIAN/config

# Source debconf library.
. /usr/share/debconf/confmodule
db_version 2.0

# Useful system information.
hostname=`hostname --fqdn 2>/dev/null || true`
domainname=`dnsdomainname 2>/dev/null || true`

# Default news server.
if [ ! -s /etc/news/server ]; then
    db_get shared/news/server
    nntpserver="$RET"
    if [ -z "$nntpserver" ]; then
        # Try to guess a good value for the NNTP server.
        if [ "$domainname" ]; then
            nntpserver="news.$domainname"
        else
            nntpserver="$hostname"
        fi
    fi
    db_set shared/news/server "$nntpserver"
    db_input medium shared/news/server || true
    db_go || true
fi
